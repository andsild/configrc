[user]
	name = asildnes
	email = andsild@gmail.com
	signingkey = DA081E1E3C23A731DF379ECA5BE9DE7FF21E68FE
[credential]
	helper = cache --timeout=3600
[push]
	default = current
[merge]
	tool = diffconflicts
[core]
	excludesfile = ~/dotfiles/git/gitexclude
	editor = vim
[alias]
  root = rev-parse --show-toplevel
  pr  = "!f() { git fetch -fu ${2:-$(git remote |grep ^upstream || echo origin)} refs/pull/$1/head:pr/$1 && git checkout pr/$1; }; f"
  pr-clean = "!git for-each-ref refs/heads/pr/* --format='%(refname)' | while read ref ; do branch=${ref#refs/heads/} ; git branch -D $branch ; done"
  # for bitbucket/stash remotes
  spr  = "!f() { git fetch -fu ${2:-$(git remote |grep ^upstream || echo origin)} refs/pull-requests/$1/from:pr/$1 && git checkout pr/$1; }; f"
[mergetool]
	keepBackup = false
[mergetool "diffconflicts"]
	cmd = diffconflicts nvim $BASE $LOCAL $REMOTE $MERGED
	trustExitCode = true
	keepBackup = false
[alias]
    setup = !git branch --set-upstream-to=origin/`git symbolic-ref --short HEAD`
[commit]
    gpgsign = true
[gpg]
	program = gpg2
